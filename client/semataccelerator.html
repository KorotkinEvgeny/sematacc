<head>
    <link href="http://fonts.googleapis.com/css?family=ABeeZee|Krona+One" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/css/iconic.css"><!--[if IE 7]>
    <link rel="stylesheet" href="/css/iconic-ie7.css"><![endif]-->
    <title>
        Semat Accelerator
    </title>
</head>
<body>
    <div class="top">
        {{loginButtons}}
    </div>
    <div class="wrapper">
        <div class="left">
            <h1>SEMAT Accelerator</h1>
            <div class="hints">
                <h1 class="icon-comment">Hint Box</h1>
                <div class="hint"></div>
            </div>
        </div>
        <div class="center">
            <div class="kernel">
                <h1 id="kernel">Kernel</h1>
                <h1 id="message"></h1>
                {{#if isLoggedIn}}
                    {{#if selectedProjectId}}
                        {{> kernel}}
                    {{else}}
                        {{> dashboard}}
                    {{/if}}
                {{else}}
                    Please Login or Register.
                {{/if}}
            </div>
        </div>
        <div class="right">
            <h1>
                Status
            </h1>
            <div class="graphs">
                {{#if isLoggedIn}}
                    {{#if selectedProjectId}}
                        {{> graph}}
                    {{else}}
                        Please select a project.
                    {{/if}}
                {{else}}
                {{/if}}
            </div>
        </div>
    </div>
    <div class="bottom">
        Being developed using cutting-edge <a href="http://meteor.com/">Meteor framework</a> by <a href="http://www.inf.unibz.it/s4fs">S4FS</a> at the <a href="http://www.unibz.it">Free University of Bozen-Bolzano</a>
    </div>
</body>


<template name="dashboard">
    <div class="dashboard">
        Projects <a href="#" id="showNewProject" class="icon-doc" title="Add New Project"></a>
        <div class="newProject">
            <ul>
                <li><input type="text" name="projectName" id="nameNewProject" /></li>
                <li><textarea name="projectDescription" id="descriptionNewProject"></textarea></li>
                <li><button id="makeNewProject" class="icon-plus-circle">Save</button></li>
            </ul>
        </div>
        <ul class="projects">
            {{#each userProjects}}
            <li class="project" id="{{this._id}}">
                <a href="#" class="viewProject">{{name}}</a>
                <a href="#" class="editProject icon-edit" title="Edit Project"></a>
                <a href="#" class="deleteProject icon-trash" title="Delete Project"></a>
                <div class="description" id="descriptionProject{{this._id}}">{{description}}</div>
            </li>
            {{/each}}
        </ul>
    </div>
</template>

<template name="kernel">
    Project <a href="#" id="clearSelectedProjectId" class="icon-back" title="Back to Projects"></a>
    <section class="ac-container">
        {{#each concerns}} {{#each alphas this._id}}
        <div class="concern-container">
            <input class="accordionitem" id="{{this._id}}" name="{{this._id}}" type="radio"
            {{#if checkable this._id}}checked="checked" {{/if}}/>
            <label for="{{this._id}}" class="accordionlabel">
            {{this.name}}
            <em>
            {{currentState this.currentStateId}}
            </em>
            </label>
            <article class="ac-small">
                <ul>
                    {{#each states this._id}} {{#if sameId ../this.currentStateId this._id}}
                    <li id="{{this._id}}" class="item selected">
                        <div class="icon-ok">
                        </div>
                        {{else}}
                    <li id="{{this._id}}" class="item selectable">
                        <div>
                        </div>
                        {{/if}} {{this.name}}
                    </li>
                    {{/each}}
                </ul>
            </article>
        </div>
        {{/each}} {{/each}}
    </section>
</template>

<template name="graph">
    <canvas id="graphRoseAlphas" class="graph">
        [No canvas support]
    </canvas>
    <canvas id="graphHbarOverall" class="graph">
        [No canvas support]
    </canvas>
</template>